<!DOCTYPE html>
<html class="no-js" lang="en-US">
<head>
  <base href="http://blog.coderzh.com/">
  <script type="text/javascript">
 
(function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X=[].slice,Y={}.hasOwnProperty,Z=function(a,b){function c(){this.constructor=a}for(var d in b)Y.call(b,d)&&(a[d]=b[d]);return c.prototype=b.prototype,a.prototype=new c,a.__super__=b.prototype,a},$=[].indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1};for(u={catchupTime:100,initialRate:.03,minTime:250,ghostTime:100,maxProgressPerFrame:20,easeFactor:1.25,startOnPageLoad:!0,restartOnPushState:!0,restartOnRequestAfter:500,target:"body",elements:{checkInterval:100,selectors:["body"]},eventLag:{minSamples:10,sampleCount:3,lagThreshold:3},ajax:{trackMethods:["GET"],trackWebSockets:!0,ignoreURLs:[]}},C=function(){var a;return null!=(a="undefined"!=typeof performance&&null!==performance&&"function"==typeof performance.now?performance.now():void 0)?a:+new Date},E=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame,null==E&&(E=function(a){return setTimeout(a,50)},t=function(a){return clearTimeout(a)}),G=function(a){var b,c;return b=C(),(c=function(){var d;return d=C()-b,d>=33?(b=C(),a(d,function(){return E(c)})):setTimeout(c,33-d)})()},F=function(){var a,b,c;return c=arguments[0],b=arguments[1],a=3<=arguments.length?X.call(arguments,2):[],"function"==typeof c[b]?c[b].apply(c,a):c[b]},v=function(){var a,b,c,d,e,f,g;for(b=arguments[0],d=2<=arguments.length?X.call(arguments,1):[],f=0,g=d.length;g>f;f++)if(c=d[f])for(a in c)Y.call(c,a)&&(e=c[a],null!=b[a]&&"object"==typeof b[a]&&null!=e&&"object"==typeof e?v(b[a],e):b[a]=e);return b},q=function(a){var b,c,d,e,f;for(c=b=0,e=0,f=a.length;f>e;e++)d=a[e],c+=Math.abs(d),b++;return c/b},x=function(a,b){var c,d,e;if(null==a&&(a="options"),null==b&&(b=!0),e=document.querySelector("[data-pace-"+a+"]")){if(c=e.getAttribute("data-pace-"+a),!b)return c;try{return JSON.parse(c)}catch(f){return d=f,"undefined"!=typeof console&&null!==console?console.error("Error parsing inline pace options",d):void 0}}},g=function(){function a(){}return a.prototype.on=function(a,b,c,d){var e;return null==d&&(d=!1),null==this.bindings&&(this.bindings={}),null==(e=this.bindings)[a]&&(e[a]=[]),this.bindings[a].push({handler:b,ctx:c,once:d})},a.prototype.once=function(a,b,c){return this.on(a,b,c,!0)},a.prototype.off=function(a,b){var c,d,e;if(null!=(null!=(d=this.bindings)?d[a]:void 0)){if(null==b)return delete this.bindings[a];for(c=0,e=[];c<this.bindings[a].length;)e.push(this.bindings[a][c].handler===b?this.bindings[a].splice(c,1):c++);return e}},a.prototype.trigger=function(){var a,b,c,d,e,f,g,h,i;if(c=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],null!=(g=this.bindings)?g[c]:void 0){for(e=0,i=[];e<this.bindings[c].length;)h=this.bindings[c][e],d=h.handler,b=h.ctx,f=h.once,d.apply(null!=b?b:this,a),i.push(f?this.bindings[c].splice(e,1):e++);return i}},a}(),j=window.Pace||{},window.Pace=j,v(j,g.prototype),D=j.options=v({},u,window.paceOptions,x()),U=["ajax","document","eventLag","elements"],Q=0,S=U.length;S>Q;Q++)K=U[Q],D[K]===!0&&(D[K]=u[K]);i=function(a){function b(){return V=b.__super__.constructor.apply(this,arguments)}return Z(b,a),b}(Error),b=function(){function a(){this.progress=0}return a.prototype.getElement=function(){var a;if(null==this.el){if(a=document.querySelector(D.target),!a)throw new i;this.el=document.createElement("div"),this.el.className="pace pace-active",document.body.className=document.body.className.replace(/pace-done/g,""),document.body.className+=" pace-running",this.el.innerHTML='<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>',null!=a.firstChild?a.insertBefore(this.el,a.firstChild):a.appendChild(this.el)}return this.el},a.prototype.finish=function(){var a;return a=this.getElement(),a.className=a.className.replace("pace-active",""),a.className+=" pace-inactive",document.body.className=document.body.className.replace("pace-running",""),document.body.className+=" pace-done"},a.prototype.update=function(a){return this.progress=a,this.render()},a.prototype.destroy=function(){try{this.getElement().parentNode.removeChild(this.getElement())}catch(a){i=a}return this.el=void 0},a.prototype.render=function(){var a,b,c,d,e,f,g;if(null==document.querySelector(D.target))return!1;for(a=this.getElement(),d="translate3d("+this.progress+"%, 0, 0)",g=["webkitTransform","msTransform","transform"],e=0,f=g.length;f>e;e++)b=g[e],a.children[0].style[b]=d;return(!this.lastRenderedProgress||this.lastRenderedProgress|0!==this.progress|0)&&(a.children[0].setAttribute("data-progress-text",""+(0|this.progress)+"%"),this.progress>=100?c="99":(c=this.progress<10?"0":"",c+=0|this.progress),a.children[0].setAttribute("data-progress",""+c)),this.lastRenderedProgress=this.progress},a.prototype.done=function(){return this.progress>=100},a}(),h=function(){function a(){this.bindings={}}return a.prototype.trigger=function(a,b){var c,d,e,f,g;if(null!=this.bindings[a]){for(f=this.bindings[a],g=[],d=0,e=f.length;e>d;d++)c=f[d],g.push(c.call(this,b));return g}},a.prototype.on=function(a,b){var c;return null==(c=this.bindings)[a]&&(c[a]=[]),this.bindings[a].push(b)},a}(),P=window.XMLHttpRequest,O=window.XDomainRequest,N=window.WebSocket,w=function(a,b){var c,d,e;e=[];for(d in b.prototype)try{e.push(null==a[d]&&"function"!=typeof b[d]?"function"==typeof Object.defineProperty?Object.defineProperty(a,d,{get:function(){return b.prototype[d]},configurable:!0,enumerable:!0}):a[d]=b.prototype[d]:void 0)}catch(f){c=f}return e},A=[],j.ignore=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift("ignore"),c=b.apply(null,a),A.shift(),c},j.track=function(){var a,b,c;return b=arguments[0],a=2<=arguments.length?X.call(arguments,1):[],A.unshift("track"),c=b.apply(null,a),A.shift(),c},J=function(a){var b;if(null==a&&(a="GET"),"track"===A[0])return"force";if(!A.length&&D.ajax){if("socket"===a&&D.ajax.trackWebSockets)return!0;if(b=a.toUpperCase(),$.call(D.ajax.trackMethods,b)>=0)return!0}return!1},k=function(a){function b(){var a,c=this;b.__super__.constructor.apply(this,arguments),a=function(a){var b;return b=a.open,a.open=function(d,e){return J(d)&&c.trigger("request",{type:d,url:e,request:a}),b.apply(a,arguments)}},window.XMLHttpRequest=function(b){var c;return c=new P(b),a(c),c};try{w(window.XMLHttpRequest,P)}catch(d){}if(null!=O){window.XDomainRequest=function(){var b;return b=new O,a(b),b};try{w(window.XDomainRequest,O)}catch(d){}}if(null!=N&&D.ajax.trackWebSockets){window.WebSocket=function(a,b){var d;return d=null!=b?new N(a,b):new N(a),J("socket")&&c.trigger("request",{type:"socket",url:a,protocols:b,request:d}),d};try{w(window.WebSocket,N)}catch(d){}}}return Z(b,a),b}(h),R=null,y=function(){return null==R&&(R=new k),R},I=function(a){var b,c,d,e;for(e=D.ajax.ignoreURLs,c=0,d=e.length;d>c;c++)if(b=e[c],"string"==typeof b){if(-1!==a.indexOf(b))return!0}else if(b.test(a))return!0;return!1},y().on("request",function(b){var c,d,e,f,g;return f=b.type,e=b.request,g=b.url,I(g)?void 0:j.running||D.restartOnRequestAfter===!1&&"force"!==J(f)?void 0:(d=arguments,c=D.restartOnRequestAfter||0,"boolean"==typeof c&&(c=0),setTimeout(function(){var b,c,g,h,i,k;if(b="socket"===f?e.readyState<2:0<(h=e.readyState)&&4>h){for(j.restart(),i=j.sources,k=[],c=0,g=i.length;g>c;c++){if(K=i[c],K instanceof a){K.watch.apply(K,d);break}k.push(void 0)}return k}},c))}),a=function(){function a(){var a=this;this.elements=[],y().on("request",function(){return a.watch.apply(a,arguments)})}return a.prototype.watch=function(a){var b,c,d,e;return d=a.type,b=a.request,e=a.url,I(e)?void 0:(c="socket"===d?new n(b):new o(b),this.elements.push(c))},a}(),o=function(){function a(a){var b,c,d,e,f,g,h=this;if(this.progress=0,null!=window.ProgressEvent)for(c=null,a.addEventListener("progress",function(a){return h.progress=a.lengthComputable?100*a.loaded/a.total:h.progress+(100-h.progress)/2},!1),g=["load","abort","timeout","error"],d=0,e=g.length;e>d;d++)b=g[d],a.addEventListener(b,function(){return h.progress=100},!1);else f=a.onreadystatechange,a.onreadystatechange=function(){var b;return 0===(b=a.readyState)||4===b?h.progress=100:3===a.readyState&&(h.progress=50),"function"==typeof f?f.apply(null,arguments):void 0}}return a}(),n=function(){function a(a){var b,c,d,e,f=this;for(this.progress=0,e=["error","open"],c=0,d=e.length;d>c;c++)b=e[c],a.addEventListener(b,function(){return f.progress=100},!1)}return a}(),d=function(){function a(a){var b,c,d,f;for(null==a&&(a={}),this.elements=[],null==a.selectors&&(a.selectors=[]),f=a.selectors,c=0,d=f.length;d>c;c++)b=f[c],this.elements.push(new e(b))}return a}(),e=function(){function a(a){this.selector=a,this.progress=0,this.check()}return a.prototype.check=function(){var a=this;return document.querySelector(this.selector)?this.done():setTimeout(function(){return a.check()},D.elements.checkInterval)},a.prototype.done=function(){return this.progress=100},a}(),c=function(){function a(){var a,b,c=this;this.progress=null!=(b=this.states[document.readyState])?b:100,a=document.onreadystatechange,document.onreadystatechange=function(){return null!=c.states[document.readyState]&&(c.progress=c.states[document.readyState]),"function"==typeof a?a.apply(null,arguments):void 0}}return a.prototype.states={loading:0,interactive:50,complete:100},a}(),f=function(){function a(){var a,b,c,d,e,f=this;this.progress=0,a=0,e=[],d=0,c=C(),b=setInterval(function(){var g;return g=C()-c-50,c=C(),e.push(g),e.length>D.eventLag.sampleCount&&e.shift(),a=q(e),++d>=D.eventLag.minSamples&&a<D.eventLag.lagThreshold?(f.progress=100,clearInterval(b)):f.progress=100*(3/(a+3))},50)}return a}(),m=function(){function a(a){this.source=a,this.last=this.sinceLastUpdate=0,this.rate=D.initialRate,this.catchup=0,this.progress=this.lastProgress=0,null!=this.source&&(this.progress=F(this.source,"progress"))}return a.prototype.tick=function(a,b){var c;return null==b&&(b=F(this.source,"progress")),b>=100&&(this.done=!0),b===this.last?this.sinceLastUpdate+=a:(this.sinceLastUpdate&&(this.rate=(b-this.last)/this.sinceLastUpdate),this.catchup=(b-this.progress)/D.catchupTime,this.sinceLastUpdate=0,this.last=b),b>this.progress&&(this.progress+=this.catchup*a),c=1-Math.pow(this.progress/100,D.easeFactor),this.progress+=c*this.rate*a,this.progress=Math.min(this.lastProgress+D.maxProgressPerFrame,this.progress),this.progress=Math.max(0,this.progress),this.progress=Math.min(100,this.progress),this.lastProgress=this.progress,this.progress},a}(),L=null,H=null,r=null,M=null,p=null,s=null,j.running=!1,z=function(){return D.restartOnPushState?j.restart():void 0},null!=window.history.pushState&&(T=window.history.pushState,window.history.pushState=function(){return z(),T.apply(window.history,arguments)}),null!=window.history.replaceState&&(W=window.history.replaceState,window.history.replaceState=function(){return z(),W.apply(window.history,arguments)}),l={ajax:a,elements:d,document:c,eventLag:f},(B=function(){var a,c,d,e,f,g,h,i;for(j.sources=L=[],g=["ajax","elements","document","eventLag"],c=0,e=g.length;e>c;c++)a=g[c],D[a]!==!1&&L.push(new l[a](D[a]));for(i=null!=(h=D.extraSources)?h:[],d=0,f=i.length;f>d;d++)K=i[d],L.push(new K(D));return j.bar=r=new b,H=[],M=new m})(),j.stop=function(){return j.trigger("stop"),j.running=!1,r.destroy(),s=!0,null!=p&&("function"==typeof t&&t(p),p=null),B()},j.restart=function(){return j.trigger("restart"),j.stop(),j.start()},j.go=function(){var a;return j.running=!0,r.render(),a=C(),s=!1,p=G(function(b,c){var d,e,f,g,h,i,k,l,n,o,p,q,t,u,v,w;for(l=100-r.progress,e=p=0,f=!0,i=q=0,u=L.length;u>q;i=++q)for(K=L[i],o=null!=H[i]?H[i]:H[i]=[],h=null!=(w=K.elements)?w:[K],k=t=0,v=h.length;v>t;k=++t)g=h[k],n=null!=o[k]?o[k]:o[k]=new m(g),f&=n.done,n.done||(e++,p+=n.tick(b));return d=p/e,r.update(M.tick(b,d)),r.done()||f||s?(r.update(100),j.trigger("done"),setTimeout(function(){return r.finish(),j.running=!1,j.trigger("hide")},Math.max(D.ghostTime,Math.max(D.minTime-(C()-a),0)))):c()})},j.start=function(a){v(D,a),j.running=!0;try{r.render()}catch(b){i=b}return document.querySelector(".pace")?(j.trigger("start"),j.go()):setTimeout(j.start,50)},"function"==typeof define&&define.amd?define(["pace"],function(){return j}):"object"==typeof exports?module.exports=j:D.startOnPageLoad&&j.start()}).call(this);
</script>
<style type="text/css">
   
  .pace {
    -webkit-pointer-events: none;
    pointer-events: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    user-select: none;
  }

  .pace.pace-inactive .pace-progress {
    display: none;
  }

  .pace .pace-progress {
    position: fixed;
    z-index: 2000;
    top: 0;
    right: 45%;
    height: 5rem;
    width: 5rem;
  }

  .pace .pace-progress:after {
    display: block;
    position: absolute;
    top: 0;
    right: .5rem;
    content: attr(data-progress-text);
    font-family: "Helvetica Neue", sans-serif;
    font-weight: 100;
    font-size: 5rem;
    line-height: 1;
    text-align: right;
    color: rgba(229, 146, 42, 0.90);
  }
</style>

  <title>CoderZh&#39;s Blog - CoderZh&#39;s Blog</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="description" content="CoderZh&#39;s Blog">
<meta name="author" content="coderzh">
<meta name="publisher" content="coderzh">
<meta name="generator" content="http://gohugo.io/"/>

<meta itemprop="name" content="CoderZh&#39;s Blog - CoderZh&#39;s Blog">
<meta itemprop="description" content="CoderZh&#39;s Blog">
<meta itemprop="image" content="http://blog.coderzh.com/public/coderzh.jpg">

<meta property="og:title" content="CoderZh&#39;s Blog - CoderZh&#39;s Blog" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://blog.coderzh.com/" />
<meta property="og:image" content="http://blog.coderzh.com/public/coderzh.jpg" />
<meta property="og:description" content="CoderZh&#39;s Blog" />

<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@coderzh">
<meta name="twitter:title" content="CoderZh&#39;s Blog - CoderZh&#39;s Blog">
<meta name="twitter:description" content="CoderZh&#39;s Blog">
<meta name="twitter:creator" content="@coderzh">
<meta name="twitter:image" content="http://blog.coderzh.com/public/coderzh.jpg">

  <script>document.documentElement.className = document.documentElement.className.replace("no-js", "js");</script>
  <link rel="canonical" href="http://blog.coderzh.com/">
  <link rel='shortlink' href="http://blog.coderzh.com/"/>
  <link rel="shortcut icon" href="http://blog.coderzh.com/public/favicon.ico"/>
  
  <link href="http://blog.coderzh.com/feed.xml" rel="alternate" type="application/rss+xml" title="CoderZh&#39;s Blog" />


<link rel="stylesheet" id="human-style-css" href="http://blog.coderzh.com/wp-content/themes/hueman/style.css" type="text/css" media="all"/>
<link rel="stylesheet" id="human-style-css2" href="http://blog.coderzh.com/wp-content/themes/hueman-child/style.css" type="text/css" media="all"/>
<link rel="stylesheet" id="responsive-css" href="http://blog.coderzh.com/wp-content/themes/hueman/responsive.css" type="text/css" media="all"/>
<link rel="stylesheet" id="font-awesome-css" href="http://blog.coderzh.com/wp-content/themes/hueman/fonts/font-awesome.min.css" type="text/css" media="all"/>
<link rel="stylesheet" id="wp-youtube-lyte" href="http://blog.coderzh.com/wp-content/plugins/wp-youtube-lyte/lyte/lyte.css" type="text/css" media="all"/>
<link rel="stylesheet" id="hubinfo" href="http://blog.coderzh.com/assets/hubinfo/dist/hubinfo.css" type="text/css" media="all"/>
<link rel="stylesheet" href="http://blog.coderzh.com/public/highlightjs/default.min.css">
<script src="http://blog.coderzh.com/public/highlightjs/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<link rel="stylesheet" id="human-style-css3" href="http://blog.coderzh.com/wp-content/themes/hueman-child/user.css" type="text/css" media="all"/>


</head>

<body class="archive category col-3cm full-width topbar-enabled chrome">

<div id="wrapper">
  <header id="header">

  <nav class="nav-container group" id="nav-topbar">
    <div class="nav-toggle"><i class="fa fa-bars"></i></div>
    <div class="nav-text"></div>
    <div class="nav-wrap container">
      <a href="http://blog.coderzh.com" class="nav-cs-icon">
        <img width="40" height="40" src="http://blog.coderzh.com/public/coderzh.jpg" alt="coderzh" title="Home">
      </a>
      <ul id="menu-default-menu" class="nav container-inner group">
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="http://blog.coderzh.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0">读书笔记</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="http://blog.coderzh.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0">技术文章</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="http://blog.coderzh.com/categories/%E6%80%9D%E8%80%83%E6%84%9F%E6%82%9F">思考感悟</a>
        </li>
        
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="http://blog.coderzh.com/post/">归档</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="http://blog.coderzh.com/about/">关于我</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="http://blog.coderzh.com/feed.xml" type="application/rss+xml" target="_blank">订阅</a>
        </li>
        <li class="menu-item menu-item-type-post_type menu-item-text">
        一个程序员的思考与总结
        </li>
      </ul>
    </div>

    <div class="container">
      <div class="container-inner">
        <div class="toggle-search"><i class="fa fa-search"></i></div>
        <div class="search-expand">
          <div class="search-expand-inner">
            <form method="get" class="searchform themeform" action="https://www.google.com/search">
              <div>
                <input type="text" class="search" name="q" placeholder="Press enter to start searching">
              </div>
            </form>
          </div>
        </div>
      </div>
      
    </div>
    

  </nav>
  

  <div class="container group">
    <div class="container-inner">

      <div class="group pad">

        <div class="group pad">
          <h1 class="site-title">
            <a href="http://blog.coderzh.com" rel="home">
              <img style="border-radius: 50%;width:72px;height:72px;margin:0 auto;" src="http://blog.coderzh.com/public/coderzh.jpg"></img>
              CoderZh&#39;s Blog
            </a>
          </h1>
          <p class="site-description"> 如果你没有感觉到时间不够用时，你多半正在虚度光阴。 </p>
        </div>

      </div>
    </div>
    
  </div>
  

</header>



  <div class="container" id="page">
    <div class="container-inner">
      <div class="main">
        <div class="main-inner group">
          <section class="content">
            <div class="pad group">
              
              
              <div class="post-list group">
                
                  
                
                  
                    
                      <div class="post-row">
                    

                      <article class="post type-post status-publish format-standard has-post-thumbnail hentry group">
  <div class="post-inner post-hover">
    <div class="post-meta group">
  <p class="post-category">
    
    <a href="http://blog.coderzh.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/" title="All posts in 技术文章" rel="category tag">技术文章</a>
    
  </p>

  <p class="post-date">2010年09月11日</p>
</div>

<h2 class="post-title">
  <a href="http://blog.coderzh.com/2010/09/11/thincilent" rel="bookmark" title="瘦客户端那些事 - 开篇">瘦客户端那些事 - 开篇</a>
</h2>

<div class="entry excerpt">
  <p>人类活动最大的成本花费在哪里？我认为在沟通和学习上。我们从哇哇落地开始，就在不断的学习前人总结的经验。学校教育，大大加速了这一进程。随着互联网的发展，人们可以自由的分享知识和经验，使得我们平时遇到的问题基本上都可以从互联网上找到答案。因此，互联网当之无愧为人类最伟大的发明之一。它减少了多少 人们沟通和学习的成本啊！这个系列里，我要说说瘦客户端的那些事。涉及的知识都是来自互联网，所以，要感谢Google，感谢Wikipedia。最后，我将我学习和总结的知识再回馈回互联网，希望能对他人有所帮助，有所启发。 &nbsp; 言归正传，让我们开始说说瘦客户那些事&#8230;&#8230; &nbsp; 所谓&#8220;瘦客户端&#8221;，就是指，我们只需要一台配置一般的终端设备（PC电脑、手持设备等），就能拥有超计算机的计算处理能力。其实，这离我们并不遥远。BS应用的发展，已经让我们实现了只要一台配置一般的智能手机，就能通过Google完成亿万次的搜索计算。 &nbsp; 上面的这个模型大家已经熟悉的不能再熟悉了。客户端发出指令，服务端接收指令，执行完运算后，将结果返回给客户端。但是，这个系列我要讲的，并不是上面这个模型，而是： &nbsp; 我们的手机（瘦客户端）不再是Google搜索中，搜索任务简单的发送者和接受者，而是一个更加实时的操作超级计算机的感受。我们的每一次鼠标移动，点击，键盘输入，触摸屏的滑动，仿佛手机本身就是一个超级计算机。有了这样的瘦客户端，我们不再需要购买价格昂贵、骨灰配置的电脑，而我们只需要一个很低配置的上网本，平板电脑，或是智能手机，就能一样畅快淋漓的玩魔兽世界、极品飞车。在未来科幻电影中的通话联络的智能手表、查看战斗指数的眼镜，都有可能实现。 &nbsp; 同时，我们不再为程序的跨平台所担心。瘦客户端中，能跨平台执行各种应用程序，比如Windows的Word，Linux的OpenOffice，Mac里 的XCode。更让人惊喜的是，我们运行一款软件之前，不再需要经过&#8220;下载&#8221;、&#8220;安装&#8221;的步骤，而是立即使用。不管是多大的游戏，多复杂配置的软件。我甚至大胆推测一下，在未来，人们将不再使用Windows，Linux，Mac之类的操作系统，取而代之的将是完全基于网络的网络操作系统。而现有的这些操作系统，失去了个人用户也很难再维持发展，必将慢慢被淘汰。最后必将涌现出的，是各种基于不同瘦客户端协议的完全基于网络的操作系统。谷歌现在开发的chromium操作系统，正是符合这个发展趋势的，不过具体是怎样的，我没用过，也不好说。 &nbsp; 在这个系列里，我尽量避免使用&#8220;云&#8221;之类炒的火热的词汇。我们见过了太多的所谓的&#8220;云&#8221;，十有八九是伪云，比如杀毒领域最大的忽悠云查杀。云计算和这里讲的瘦客户有一定的契合，但不完全相同。云计算强调的是大规模数据中心按需分配的计算能力，就像集中式发电厂。云计算是服务端的&#8220;胖&#8221;，瘦客户强调的是客户端的&#8220;瘦&#8221;，如果两者一结合，必将擦出火花。 未来并不遥远，我们能想的到的，都有人在尝试了。国外著名的有Onlive，Gaikai，OTOY等， 他们都实现了通过私有协议，在配置一般的机器上，远程玩像孤岛危机之类的大型游戏。特别是Onlive，由于其雄厚的实力，与硬件提供商、网络提供商、游 戏开发商都有深度的合作。比如，Onlive自主投资开发的定制硬件，和美国艺电有限公司（Electronic Arts）、育碧（Ubisoft）、Take-Two互动软件（Take-Two Interactive Software）、华纳兄弟、交互式娱乐和英佩数码美国艺电有限公司（Electronic Arts）、育碧（Ubisoft）、Take-Two互动软件（Take-Two Interactive Software）、华纳兄弟、交互式娱乐和英佩数码达成的深度合作。就连谷歌微软，都想买断Onlive的技术。 &nbsp; &nbsp; iPad展示OnLive Demo：http://v.youku.com/v_show/id_XMTgyMzYzNjI4.html 国内也有一家公司实现了这样的技术，叫云联科技。公司仅仅成立一年多，在中国现有的网络环境下，在没有定制硬件的前提下，就做出如此惊人的成果，不得不让人称叹。 但是，这么好的技术，为什么现在还没有普及开来呢？最大的障碍，是&#8220;延迟&#8221;和巨大的服务端消耗。 先来说说延迟。这里提到的是&#8220;延迟&#8221;，而不是&#8220;带宽&#8221;。为什么呢？延迟的英文是latency，带宽的英文是bandwidth。很多时候，人们会把两者混淆。有些人搞不清楚，为什么我的带宽提升到了联通4M，玩电信的服务器网游还会卡？带宽是指每秒最大的传输能力，延迟是指信号请求从发出到接收到所经过的时间。 误区：随着带宽越来越大，延迟也会越来越小。 上面的图已经很清楚，如果传输的数据未达到带宽限制，即便带宽再大，信号从发生到接收的时间T1-T0，只取决于其传输的速度和距离。假如服务器在美国，距离没办法改变，爱因斯坦说，速度的极限是光速。而光纤的传播速度也许只能达到40%光速。所以说，如果你要给远在4000公里之外的地方传输数据，比如从美国的加利福尼亚到马萨诸塞州，延迟不可能再低于44毫秒。 &nbsp; 游戏或软件实际消耗的带宽其实并不多，而且，带宽在理论上是可以无限增加的，而延迟才是最大的问题，因为传播的速度不可能超过光速。比如，我以前用电信 512K带宽的网络玩剑三，非常的流畅。现在我用联通4M带宽玩剑三，延迟却很高。就像Gaikai这样的公司，由于距离的限制，目前也只能接受洛杉矶地 区玩家的试玩申请。 &nbsp; 减少延迟的办法，在有限的情况下加快传输速率，以及尽可能的缩短传输的距离，比如，就近部署服务器。 另外一个障碍，是巨大的服务端消耗。我们可以想象，我们需要花费很多钱购买很好性能的机器才能流畅的玩孤岛危机之类的大型游戏。像Onlive这种云游戏服 务器供应商，相当于需要给我们每个人都配一台这样服务器。成本可见是巨大的。即便是Onlive自己定制的硬件，一台服务器同时也只能服务几个人。 除了使用瘦客户端玩大型游戏，我们还可以用瘦客户端运行我们日常使用的软件或小游戏。无需下载，无需安装，一点即用，跨平台，多么有吸引力！而且，软件相对于游戏来说，不需要高清的传输画面，因此对带宽要求也低很多。软件开发商也不再需要针对各平台进行开发。理论上我们只需要一个版本的《植物大战僵尸》，就可以在iphone, android, pc等各种终端设备上运行。 这样的技术，是如何实现的呢？像Onlive，Gaikai之类的公司，使用的是自己的专有传输协议，我无从考证。但是，接下来的文章，我会从现有的一些知名的或开源的远程传输协议开始，逐步深入技术细节，把我知道的那点瘦客户端的事告诉大家。敬请期待~ 瘦客户端那些事 系列： 瘦客户端那些事&nbsp; - 开篇 瘦客户端那些事 - 远程传输协议 瘦客户端那些事 - NoMachine的秘密 &hellip;&hellip;</p>
</div>


  </div>
  
</article>



                    
                  
                
                  
                    

                      <article class="post type-post status-publish format-standard has-post-thumbnail hentry group">
  <div class="post-inner post-hover">
    <div class="post-meta group">
  <p class="post-category">
    
    <a href="http://blog.coderzh.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/" title="All posts in 技术文章" rel="category tag">技术文章</a>
    
  </p>

  <p class="post-date">2010年08月27日</p>
</div>

<h2 class="post-title">
  <a href="http://blog.coderzh.com/2010/08/27/python-testing" rel="bookmark" title="Python测试开发分享感悟">Python测试开发分享感悟</a>
</h2>

<div class="entry excerpt">
  <p>今天Zoom.Quiet在公司内部分享了对Python测试开发的一些感悟，TDD以及一些开源的Python测试的库。由于一直在测试一线奋战，我被做为特邀嘉宾来到现场。由于时间关系，最后我的分享没有进行。我在这里说说对Zoom.Quiet演讲内容的一些感想吧。 &nbsp; 下面的链接是Zoom.Quiet的幻灯片： http://py.kingsoft.net/s5/100826-PyTDD/ 我打算分享的关于Python GUI测试的幻灯片： http://py.kingsoft.net/s5/100826-PyTDD/py-gui-automation/ 重点强调了TDD测试先行的做法，以及新需求到来时进行迭代的测试驱动开发过程。 感想：&#8220;测试先行&#8221;的确是TDD的核心，同时，TDD还有其他一些理念，其实也很值得分享，比如： 编写完测试案例后，用最小化或最精简的代码，让测试案例刚刚好通过( just enough)。然后再继续补充测试案例，测试案例可能失败，继而再修改代码，让新的测试案例刚刚好通过。之后一直重复这个过程，直到你再也写不出一个测试案例，需要修改你的代码。&#8220;just enough code&#8221;，我对于这点感触比较深。一方面因为，我们几乎没有可能一次性写出完全正确让所有测试案例都通过的代码，所以必定存在这个迭代的过程。另一方面，能很好的遵循YAGNI(You Are&rsquo;nt Gonna Need It)，避免了过度的设计。 测试案例是最好的注释，同时也是最好的文档。 &nbsp; 分享了大量Python的开源测试工具或库。 感想：知道了很多自己不知道的东西，很有意义。 &#8220;没有测试案例的持续集成不是持续集成&#8221; 感想：说的太好了。同时也要自我反省一下，一直想将测试案例加入持续构建，一直都没有去做~ &#8220;测试的本质是什么？&#8221; 感想：记得一本测试的书讲过，测试的本质，就是&#8220;想尽一切办法寻找软件的缺陷！&#8221;。我觉得也是有道理的，所谓的&#8220;保证软件的质量&#8221;，并不准确，至少，我可以举一个反例，进行高效的代码审查以及招聘最优秀的程序员，同样也能保证软件的质量，是不是软件测试呢？有人说自动化测试不能发现新的缺陷，只能保证已发现的BUG不再重现。其实，只是我们理解的是保证BUG不重现，归根结底，自动化测试案例一直重复的执行，还是为了找到软件的缺陷，并且，是存在发现新缺陷的可能的。所以，别想了，软件测试就是找BUG，直到你再也找不出来为止。（你找不出来并不意味着没有）。 &#8220;当你的代码需要使用过多的Mock对象进行测试时，意味着你的代码依赖过多，重构它吧&#8221; &nbsp;&nbsp;&nbsp; &#8220;不可测的代码，是需要使用大量的Mock对象的代码&#8221; &nbsp;&nbsp;&nbsp; &#8220;减少依赖，减少Mock对象的使用&#8221; 感想：对于这两个观点，我有一些不同意见。首先，除非你开发的是类似计算素数或是其他单一性很强的代码，你不可能不依赖到文件系统，数据库，以及网络。而一旦你的测试案例依赖于这三样东西，你的测试案例就不再属于单元测试，而是集成测试。除非你只把这部分代码交给集成测试，不然你必然需要使用Mock对象。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 当然，这里所说的Mock对象也是广义的概念。严格来说，存在诸如：Spy，Fake，Stub，Mock等具有不同意义的东西。虽然只是概念上的理解，在实际测试过程中对测试案例的理解，还是很有意义的。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 所以，我觉得，最不可测试的代码，因为是连Mock的机会都不给的代码。这样的代码我遇到过很多，特别是C++的代码，我见过的C++程序员，对依赖注入都没什么概念。依赖注入，是为了减少对具体对象的依赖，同时，也提供了更好的可测性。允许使用Mock对象进行模拟。 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 关于Mock的争论其实有很多，我也只是表达一点自己的看法。我也没有那么绝对，过度使用Mock，我也是不推荐的。 有人提问：&#8220;TDD对可测性的帮助有多大？&#8221; 我的回答：很大，非常大。当你写过别人代码的测试案例的时候你就会知道，假如一个家伙从来不写测试案例，他的代码测试起来会非常痛苦。假如另一个家伙自己就会写一些测试案例测试自己的代码，在写测试代码的过程中，其实就已经是在不断的重构，使得代码更具可测性的过程。所以，这样的代码的可测性会强很多。 关于我自个开发的KWinAuto自动化GUI测试框架 说明：其实这个是我们内部使用的一个GUI测试框架。为了让名字更好听，我临时修改了名字，因为灵感和一些东西来自开源的PyWinAuto，所以，我索性取了个名，叫KWinAuto。这个框架主要是非常简单的处理了常见的Windows控件的操作，并且是为我们自己实际测试量身打造的这么一个库。离最终开源出来让大家分享还是有一些距离，所以，就先不放出来了，大家就从我的幻灯片里先了解一下吧。 除了Zoom.Quiet极力推荐的《Test-driven development》外，我也推荐一本书：《xUnit Test Patterns》 &nbsp; 对于我的观点，欢迎大家拍砖~~</p>
</div>


  </div>
  
</article>



                    
                      </div>
                    
                  
                
                  
                    
                      <div class="post-row">
                    

                      <article class="post type-post status-publish format-standard has-post-thumbnail hentry group">
  <div class="post-inner post-hover">
    <div class="post-meta group">
  <p class="post-category">
    
    <a href="http://blog.coderzh.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/" title="All posts in 技术文章" rel="category tag">技术文章</a>
    
  </p>

  <p class="post-date">2010年08月23日</p>
</div>

<h2 class="post-title">
  <a href="http://blog.coderzh.com/2010/08/23/custom-python-unittestoutput-as-gtest" rel="bookmark" title="Python 天天美味(37) - 让python的unittest像gtest一样输出">Python 天天美味(37) - 让python的unittest像gtest一样输出</a>
</h2>

<div class="entry excerpt">
  <p>Python自带的unittest已经很简单易用了，不过我一直不喜欢的是它的命令行输出，格式显得有点乱。而我比较喜欢的是gtest的命令行输出格式，用不同的颜色进行标识，整齐划一，非常明了。于是，我扩展一下Python的unittest模块，让它也能输出和gtest一样好看的命令行结果。 首先，我们先来看看unittest默认的命令行输出结果。这里，我先随便写两个测试案例，让其中一个通过，另外一个不通过，然后查看一下测试结果。 ![](http://images.cnblogs.com/OutliningIndicators/ContractedBlock.gif) import&nbsp;unitest class&nbsp;FooTest(unittest.TestCase): &nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;setUp(self): &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.a&nbsp;=&nbsp;1 &nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;testPass(self): &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.a&nbsp;=&nbsp;self.a&nbsp;+&nbsp;1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.assertEqual(2,&nbsp;self.a) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;testFail(self): &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.a&nbsp;=&nbsp;self.a&nbsp;+&nbsp;1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.assertEqual(3,&nbsp;self.a) main函数，调用unittest自己的TextTestRunner： if&nbsp;__name__=='__main__': &nbsp;&nbsp;&nbsp;&nbsp;unittest.main() 输出的结果： &nbsp; 有点凌乱（当然，可能你并不觉得），好的，接下来开始实现一个自定义的TestRunner，让unittest输出和gtest一样，使用不同的颜色。 &nbsp; 这个过程其实很简单，主要分为两个步骤： 编写自定义的TestRunner类，执行其中的run方法，控制整个测试的过程和输出。参照unitest自己的TextTestRunner方法就好了。只是把输出部分做一些修改。 编写自定义的TestResult类，继承自unittest中的TestResult类。重写其中几个方法，也都是修改输出内容的部分。 &nbsp; 当然，我们还需要在命令行中输出不同的颜色。 如果你不是使用的Windows，可以参照：http://code.activestate.com/recipes/475116-using-terminfo-for-portable-color-output-cursor-co/ 如果你使用的是Windows，其实只要调用一个Windows API就好了。这个API就是SetConsoleTextAttribute。见下面的代码： ##&nbsp;&nbsp;http://code.activestate.com/recipes/496901/&nbsp;(r3) #&nbsp;See&nbsp;http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winprog/winprog/windows_api_reference.asp #&nbsp;for&nbsp;information&nbsp;on&nbsp;Windows&nbsp;APIs. STD_INPUT_HANDLE&nbsp;=&nbsp;-10 STD_OUTPUT_HANDLE=&nbsp;-11 STD_ERROR_HANDLE&nbsp;=&nbsp;-12 FOREGROUND_WHITE&nbsp;=&nbsp;0x0007 FOREGROUND_BLUE&nbsp;=&nbsp;0x01&nbsp;#&nbsp;text&nbsp;color&nbsp;contains&nbsp;blue. FOREGROUND_GREEN=&nbsp;0x02&nbsp;#&nbsp;text&nbsp;color&nbsp;contains&nbsp;green. FOREGROUND_RED&nbsp;&nbsp;=&nbsp;0x04&nbsp;#&nbsp;text&nbsp;color&nbsp;contains&nbsp;red. FOREGROUND_INTENSITY&nbsp;=&nbsp;0x08&nbsp;#&nbsp;text&nbsp;color&nbsp;is&nbsp;intensified. FOREGROUND_YELLOW&nbsp;=&nbsp;FOREGROUND_RED&nbsp;|&nbsp;FOREGROUND_GREEN BACKGROUND_BLUE&nbsp;=&nbsp;0x10&nbsp;#&nbsp;background&nbsp;color&nbsp;contains&nbsp;blue. BACKGROUND_GREEN=&nbsp;0x20&nbsp;#&nbsp;background&nbsp;color&nbsp;contains&nbsp;green. BACKGROUND_RED&nbsp;&nbsp;=&nbsp;0x40&nbsp;#&nbsp;background&nbsp;color&nbsp;contains&nbsp;red. BACKGROUND_INTENSITY&nbsp;=&nbsp;0x80&nbsp;#&nbsp;background&nbsp;color&nbsp;is&nbsp;intensified. import&nbsp;ctypes std_out_handle&nbsp;=&nbsp;ctypes.windll.kernel32.GetStdHandle(STD_OUTPUT_HANDLE) def&nbsp;set_color(color,&nbsp;handle=std_out_handle): &nbsp;&nbsp;&nbsp;&nbsp;"""(color)&nbsp;-&gt;&nbsp;BOOL&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp;Example:&nbsp;set_color(FOREGROUND_GREEN&nbsp;|&nbsp;FOREGROUND_INTENSITY) &nbsp;&nbsp;&nbsp;&nbsp;""" &nbsp;&nbsp;&nbsp;&nbsp;bool&nbsp;=&nbsp;ctypes.windll.kernel32.SetConsoleTextAttribute(handle,&nbsp;color) &nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;bool TestRunner类 class&nbsp;MyTestRunner: &nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;stream=sys.stderr,&nbsp;descriptions=1,&nbsp;verbosity=1): &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stream&nbsp;=&nbsp;_ColorWritelnDecorator(stream) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.descriptions&nbsp;=&nbsp;descriptions &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.verbosity&nbsp;=&nbsp;verbosity &nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;run(self,&nbsp;test): &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;MyTestResult(self.stream,&nbsp;self.descriptions,&nbsp;self.verbosity) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stream.yellow('Note:&nbsp;Your&nbsp;Unit&nbsp;Tests&nbsp;Starts') &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stream.writeln() &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startTime&nbsp;=&nbsp;time.time() &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test(result) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stopTime&nbsp;=&nbsp;time.time() &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeTaken&nbsp;=&nbsp;stopTime&nbsp;-&nbsp;startTime &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stream.green(result.separator2) &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run&nbsp;=&nbsp;result.testsRun &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.stream.writeln("Ran&nbsp;%d&nbsp;test%s&nbsp;in&nbsp;%.3fs"&nbsp;%</p>
</div>


  </div>
  
</article>



                    
                  
                
                  
                    

                      <article class="post type-post status-publish format-standard has-post-thumbnail hentry group">
  <div class="post-inner post-hover">
    <div class="post-meta group">
  <p class="post-category">
    
    <a href="http://blog.coderzh.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/" title="All posts in 技术文章" rel="category tag">技术文章</a>
    
  </p>

  <p class="post-date">2010年08月21日</p>
</div>

<h2 class="post-title">
  <a href="http://blog.coderzh.com/2010/08/21/fork" rel="bookmark" title="(转)fork()函数的理解">(转)fork()函数的理解</a>
</h2>

<div class="entry excerpt">
  <p>对于刚刚接触Unix/Linux操作系统，在Linux下 编写多进程的人来说，fork是最难理解的概念之一：它执行一次却返回两个值。 首先我们来看下fork函数的原型： ＃i nclude &lt;sys/types.h&gt; ＃i nclude &lt;unistd.h&gt; pid_t fork(void); 返回值： 负数：如果出错，则fork()返回-1,此时没有创建 新的进程。最初的进程仍然运行。 零：在子进程中，fork()返回0 正数：在负进程中，fork()返回正的子进程的PID 其次我们来看下如何利用fork创建子进程。 创建子进程的样板代码如下所示： pid_t child; if((child = fork())&lt;0) /错误处理/ else if(child == 0) /这是新进程/ else /这是最初的父进程/ fock函数调用一次却返回两次；向父进程返回子进程的 ID，向子进程中返回0， 这是因为父进程可能存在很多过子进程，所以必须通过这个 返回的子进程ID来跟踪子进程， 而子进程只有一个父进程，他的ID可以通过 getppid取得。 下面我们来对比一下两个例子： 第一个： #include &lt;unistd.h&gt; #include &lt;stdio.h&gt; int main() { pid_t pid; int count=0; pid = fork(); printf( &ldquo;This is first time, pid = %d\n&rdquo;, pid ); printf( &ldquo;This is second time, pid = %d\n&rdquo;, pid ); count++; printf( &ldquo;count = %d\n&rdquo;, count ); if ( pid&gt;0 ) { printf( &ldquo;This is the parent process,the child has the pid:%d\n&rdquo;, pid ); } else if ( !pid ) { printf( &ldquo;This is the child Process.\n&rdquo;) } else { printf( &ldquo;fork failed.\n&rdquo; ); } printf( &ldquo;This is third time, pid = %d\n&rdquo;, pid ); printf( &ldquo;This is fouth time, pid = %d\n&rdquo;, pid ); return 0; } 运行结果如下： 问题： 这个结果很奇怪了，为什么printf的语句执行两次， 而那句&#8220;count++;&#8221;的语句却只执行了一次 接着看： #include &lt;unistd.h&gt; #include &lt;stdio.h&gt; int main(void) { pid_t pid; int count=0; pid = fork(); printf( &ldquo;Now, the pid returned by calling fork() is %d\n&rdquo;, pid ); if ( pid&gt;0 ) { printf( &ldquo;This is the parent process,the child has the pid:%d\n&rdquo;, pid ); printf( &ldquo;In the parent process,count = %d\n&rdquo;, count ); } else if ( !pid ) { printf( &ldquo;This is the child process.\n&rdquo;); printf( &ldquo;Do your own things here.\n&rdquo; ); count ++; printf( &ldquo;In the child process, count = %d\n&rdquo;, count ); } else { printf( &ldquo;fork failed.\n&rdquo; ); } return 0; } 运行结果如下： 现在来解释上面提出的问题。 看这个程序的时候，头脑中必须首先了解一个概念：在语句 pid=fork()之前，只有一个进程在执行这段代码，但在这条语句之后，就变成两个进程在执行了，这两个进程的代码部分完全相同，将要执行的下一条语 句都是if ( pid&gt;0 )&#8230;&#8230;。 两个进程中，原先就存在的那个被称作&#8220;父进程&#8221;，新出现 的那个被称作&#8220;子进程&#8221;。父子进程的区别除了进程标志符（process ID）不同外，变量pid的值也不相同，pid存放的是fork的返回值。fork调用的一个奇妙之处就是它仅仅被调用一次，却能够返回两次，它可能有三 种不同的返回值： 1.</p>
</div>


  </div>
  
</article>



                    
                      </div>
                    
                  
                
                  
                    
                      <div class="post-row">
                    

                      <article class="post type-post status-publish format-standard has-post-thumbnail hentry group">
  <div class="post-inner post-hover">
    <div class="post-meta group">
  <p class="post-category">
    
    <a href="http://blog.coderzh.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/" title="All posts in 技术文章" rel="category tag">技术文章</a>
    
  </p>

  <p class="post-date">2010年07月18日</p>
</div>

<h2 class="post-title">
  <a href="http://blog.coderzh.com/2010/07/18/chrome-minimum-font-size" rel="bookmark" title="Chrome默认字体太小解决办法">Chrome默认字体太小解决办法</a>
</h2>

<div class="entry excerpt">
  <p>当网站的字体为12px时，在Chrome里显示的非常小，看起来非常的吃力。修改的方法： 务必先关闭你的Chrome浏览器。（不先关闭的话，修改可能会被覆盖掉） 最好再备份一下配置文件，如果配置文件搞坏了会很惨： &lt;!&ndash; Code highlighting produced by Actipro CodeHighlighter (freeware) http://www.CodeHighlighter.com/ &ndash;&gt;cd&nbsp;.config/google-chrome/Default cp&nbsp;Preferences&nbsp;Preferences.bak&nbsp; 修改Preferences文件 &lt;!&ndash; Code highlighting produced by Actipro CodeHighlighter (freeware) http://www.CodeHighlighter.com/ &ndash;&gt;gedit&nbsp;Preferences &nbsp;&nbsp; &nbsp;找到: &lt;!&ndash; Code highlighting produced by Actipro CodeHighlighter (freeware) http://www.CodeHighlighter.com/ &ndash;&gt;&ldquo;webkit&ldquo;:&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;webprefs&ldquo;:&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;default_fixed_font_size&ldquo;:&nbsp;16, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;default_font_size&ldquo;:&nbsp;17, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;fixed_font_family&ldquo;:&nbsp;&ldquo;\u6587.6CC9.9A7F\u7B49.5BBD\u5FAE\u7C73.9ED1&ldquo;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;sansserif_font_family&ldquo;:&nbsp;&ldquo;\u6587.6CC9.9A7F\u5FAE\u7C73.9ED1&ldquo;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;serif_font_family&ldquo;:&nbsp;&ldquo;\u6587.6CC9.9A7F\u5FAE\u7C73.9ED1&ldquo; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} } &nbsp;&nbsp; &nbsp;加上&ldquo;minimum_font_size&rdquo;: 15, &lt;!&ndash; Code highlighting produced by Actipro CodeHighlighter (freeware) http://www.CodeHighlighter.com/ &ndash;&gt;&ldquo;webkit&ldquo;:&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;webprefs&ldquo;:&nbsp;{ &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;default_fixed_font_size&ldquo;:&nbsp;16, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;default_font_size&ldquo;:&nbsp;17, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;fixed_font_family&ldquo;:&nbsp;&ldquo;\u6587.6CC9.9A7F\u7B49.5BBD\u5FAE\u7C73.9ED1&ldquo;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;minimum_font_size&ldquo;:&nbsp;15, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;sansserif_font_family&ldquo;:&nbsp;&ldquo;\u6587.6CC9.9A7F\u5FAE\u7C73.9ED1&ldquo;, &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&ldquo;serif_font_family&ldquo;:&nbsp;&ldquo;\u6587.6CC9.9A7F\u5FAE\u7C73.9ED1&ldquo; &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} } 保存退出。启动Chrome，字体变大了。</p>
</div>


  </div>
  
</article>



                    
                  
                
                  
                    

                      <article class="post type-post status-publish format-standard has-post-thumbnail hentry group">
  <div class="post-inner post-hover">
    <div class="post-meta group">
  <p class="post-category">
    
    <a href="http://blog.coderzh.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/" title="All posts in 技术文章" rel="category tag">技术文章</a>
    
  </p>

  <p class="post-date">2010年07月17日</p>
</div>

<h2 class="post-title">
  <a href="http://blog.coderzh.com/2010/07/17/autossh" rel="bookmark" title="Ubuntu中让SSH自动重连">Ubuntu中让SSH自动重连</a>
</h2>

<div class="entry excerpt">
  <p>Ubuntu中让SSH自动重连，简单的办法是安装autossh和expect。autossh负责自动重连，expect负责自动输入密码。 安装：&nbsp; sudo&nbsp;apt-get&nbsp;install&nbsp;autossh sudo&nbsp;apt-get&nbsp;install&nbsp;expect 新建一个sh脚本，例如：/etc/autossh.sh，内容： #!/bin/bash HOST="xx.xxx.com" USER="yourname" PASS="yourpassword" CMD=$@ &nbsp; VAR=$(expect&nbsp;-c&nbsp;" spawn&nbsp;/usr/bin/autossh&nbsp;-M&nbsp;2000&nbsp;-N&nbsp;-v&nbsp;-D&nbsp;127.0.0.1:7070&nbsp;$USER@$HOST&nbsp;$CMD match_max&nbsp;100000 expect&nbsp;\"*?assword:*\" send&nbsp;--&nbsp;\"$PASS\r\" send&nbsp;--&nbsp;\"\r\" expect&nbsp;eof ") echo&nbsp;"===============" echo&nbsp;"$VAR" 运行/etc/autossh.sh，就自动登录了。</p>
</div>


  </div>
  
</article>



                    
                      </div>
                    
                  
                
              </div>

              
              

<nav class="pagination group">
  <div class="wp-pagenavi">
    <span class="pages">
        Page 7 of 38
        (265 Posts)
    </span>
    
      <a class="previouspostslink" rel="prev" href="http://blog.coderzh.com/paginator/6/">Prev &laquo;</a>
    
    
    
      <a class="nextpostslink" rel="next" href="http://blog.coderzh.com/paginator/8/">Next &raquo;</a>
    
  </div>
</nav>

              
            </div>

          </section>
          <div class="sidebar s1">

  <a class="sidebar-toggle" title="Expand Sidebar"><i class="fa icon-sidebar-toggle"></i></a>

  <div class="sidebar-content">

    <div class="sidebar-top group">
      <p>Follow:</p>
      <ul class="social-links">
    <li>
    <a class="social-tooltip" title="On Twitter"
        href="https://twitter.com/coderzh" target="_blank">
        <i class="fa fa-twitter"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On GitHub"
        href="https://github.com/coderzh" target="_blank">
        <i class="fa fa-github"></i>
    </a>
    </li>
</ul>

    </div>

    <div class="widget qrcode">
    <img src="http://blog.coderzh.com/public/qrcode.jpg" width="129px" height="129px"/>
    <p>微信扫一扫：<br/> 关注我的公众号： <br /> hacker-thinking</p>
</div>


    <div class="widget widget_recent_entries sidebarLeftCategories"><h3>Last posts</h3>
      <ul>
        
        <li><a href="http://blog.coderzh.com/2015/08/16/Books">最近读的几本书</a></li>
        
        <li><a href="http://blog.coderzh.com/2015/08/15/JekyllReadMore">使用Jekyll官方的ReadMore摘要功能</a></li>
        
        <li><a href="http://blog.coderzh.com/2015/08/15/ThreadSanitizer">使用ThreadSanitizer线程检查工具</a></li>
        
        <li><a href="http://blog.coderzh.com/2015/08/08/IDonnotCare">你说我是错的，那你最好证明你是对的</a></li>
        
        <li><a href="http://blog.coderzh.com/2015/06/28/163GameOpenDay">小记：网易游戏学院第二届公开日</a></li>
        
      </ul>
    </div>

    <div id="search-2" class="widget widget_search"><h3>Search</h3>

      <form method="get" class="searchform themeform" action="https://www.google.com/search">
        <div>
          <input type="text" class="search" name="q" placeholder="Press enter to start searching">
        </div>
      </form>
    </div>

  </div>
  
</div>

          <div class="sidebar s2">

  <a class="sidebar-toggle" title="Expand Sidebar"><i class="fa icon-sidebar-toggle"></i></a>

  <div class="sidebar-content">

    <div class="sidebar-top group">
      <p>More</p>
    </div>


    <div id="categories-2" class="widget widget_categories"><h3>Categories</h3>
      <ul>
        
          <li class="cat-item cat-item-1">
            <a href="http://blog.coderzh.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a>
          </li>
        
          <li class="cat-item cat-item-1">
            <a href="http://blog.coderzh.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0/">技术文章</a>
          </li>
        
          <li class="cat-item cat-item-1">
            <a href="http://blog.coderzh.com/categories/%E6%80%9D%E8%80%83%E6%84%9F%E6%82%9F/">思考感悟</a>
          </li>
        
      </ul>
    </div>

    <div id="tag_cloud-2" class="widget widget_tag_cloud"><h3>Tags</h3>

      <div class="tagcloud">
        <p class="post-tags">
          
              
          
        </p>
      </div>
    </div>
  </div>
  
</div>

        </div>
      </div>
    </div>
  </div>
  <footer id="footer">

  <nav class="nav-container group" id="nav-footer">
    <div class="nav-toggle"><i class="fa fa-bars"></i></div>
    <div class="nav-text"></div>
    <div class="nav-wrap">
      <ul id="menu-default-menu-1" class="nav container group">
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="http://blog.coderzh.com/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0">读书笔记</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="http://blog.coderzh.com/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E7%AB%A0">技术文章</a>
        </li>
        
        <li class="menu-item menu-item-type-post_type menu-item-object-page">
          <a href="http://blog.coderzh.com/categories/%E6%80%9D%E8%80%83%E6%84%9F%E6%82%9F">思考感悟</a>
        </li>
        
      </ul>
    </div>
  </nav>
  

  <section class="container" id="footer-bottom">
    <div class="container-inner">
      <a id="back-to-top" href="#"><i class="fa fa-angle-up"></i></a>
      <div class="pad group">
        <div class="grid one-half">
          <div id="copyright">
            <p>Copyright © 2015. All Rights Reserved. <br>Powered by
              <a href="http://gohugo.io/" target="_blank">Hugo - the static site generator</a>.
              <a href="http://golang.org" target="_blank">#golang</a>.
            </p>
          </div>
          
        </div>
        
        <div class="grid one-half last">
          <ul class="social-links">
    <li>
    <a class="social-tooltip" title="On Twitter"
        href="https://twitter.com/coderzh" target="_blank">
        <i class="fa fa-twitter"></i>
    </a>
    </li>
    <li>
    <a class="social-tooltip" title="On GitHub"
        href="https://github.com/coderzh" target="_blank">
        <i class="fa fa-github"></i>
    </a>
    </li>
</ul>

        </div>
      </div>

    </div>
    
  </section>
  

</footer>

</div>
<script type="text/javascript" src="assets/js/jquery-2.1.1.min.js"></script>
<script type="text/javascript" src="wp-content/themes/hueman/js/jquery.jplayer.min.js"></script>
<script type="text/javascript" src="wp-content/themes/hueman/js/scripts.js"></script>
<script type="text/javascript" src="assets/picturefill/picturefill.min.js"></script>
<script type="text/javascript" src="assets/hubinfo/dist/hubinfo.js"></script>
<script type="text/javascript" src="assets/js/jquery.matchHeight-min.js"></script>


<script type="text/javascript">var bU = "http:\/\/blog.coderzh.com/wp-content/plugins/wp-youtube-lyte/lyte/";</script>
<script type="text/javascript" async defer src="wp-content/plugins/wp-youtube-lyte/lyte/lyte.js"></script>
<script type="text/javascript" async defer src="assets/js/myblog.js"></script>

</body>
</html>

